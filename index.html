<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF8"><title>Programming Curriculum Vitae</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="ru" class="book"><div class="titlepage"><div><div><h1 class="title"><a name="idm45848372011616"></a>Programming Curriculum Vitae</h1></div><div><h2 class="subtitle">А. С. Миденков</h2></div><div><p class="copyright">Авторские права © 2016 Aleksey Midenkov</p></div><div><div class="revhistory"><table style="border-style:solid; width:100%;" summary="История переиздания"><tr><th align="left" valign="top" colspan="2"><b>История переиздания</b></th></tr><tr><td align="left"></td><td align="left">2016-08-14</td></tr><tr><td align="left" colspan="2">Добавлен <a class="link" href="#math_calc" title="2. Math calculator">Math calculator</a></td></tr></table></div></div></div><hr></div><div class="toc"><p><b>Содержание</b></p><dl class="toc"><dt><span class="chapter"><a href="#ch1">1. Миденков Алексей Сергеевич</a></span></dt><dd><dl><dt><span class="sect1"><a href="#s1">1. Краткая информация</a></span></dt><dd><dl><dt><span class="sect2"><a href="#idm45848372085152">1.1. Последнее место работы</a></span></dt></dl></dd><dt><span class="sect1"><a href="#s3">2. Обо мне</a></span></dt><dd><dl><dt><span class="sect2"><a href="#idm45848372074240">2.1. Немного деталей</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#ch2">2. Примеры работ</a></span></dt><dd><dl><dt><span class="sect1"><a href="#art2-1">1. Evoxy: libev-based HTTP proxy</a></span></dt><dt><span class="sect1"><a href="#math_calc">2. Math calculator</a></span></dt><dt><span class="sect1"><a href="#idm45848366496368">3. C++ MySQL wrapper</a></span></dt><dt><span class="sect1"><a href="#idm45848366485680">4. Набросок обработки Bid-запросов в AdServer</a></span></dt><dt><span class="sect1"><a href="#idm45848366462784">5. Bush: build shell</a></span></dt><dt><span class="sect1"><a href="#idm45848366452336">6. System troubleshooting report</a></span></dt><dt><span class="sect1"><a href="#idm45848366443824">7. Browser list parser</a></span></dt><dt><span class="sect1"><a href="#idm45848366435552">8. Другое</a></span></dt><dd><dl><dt><span class="sect2"><a href="#idm45848366434912">8.1. Symlinked install</a></span></dt><dt><span class="sect2"><a href="#idm45848366429088">8.2. Конвертер ошибок GCC в MSVC</a></span></dt><dt><span class="sect2"><a href="#idm45848366423920">8.3. Реверсинг кода игры Atomic Bomberman</a></span></dt></dl></dd></dl></dd></dl></div><div class="list-of-figures"><p><b>Список иллюстраций</b></p><dl><dt>2.1. <a href="#idm45848366499872">Примеры синтаксических деревьев Math calculator</a></dt><dt>2.2. <a href="#idm45848366482320">Схема среза по обработке Bid-запросов в AdServer</a></dt><dt>2.3. <a href="#idm45848366415840">Анализ Atomic Bomberman (cкриншот IDA Pro) </a></dt></dl></div><div class="list-of-examples"><p><b>Список примеров</b></p><dl><dt>2.1. <a href="#idm45848366490336">Схема использования MySQL wrapper</a></dt><dt>2.2. <a href="#idm45848366447360">Настройка работы trouble-report</a></dt></dl></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="ch1"></a>Глава 1. Миденков Алексей Сергеевич</h1></div></div></div><div class="toc"><p><b>Содержание</b></p><dl class="toc"><dt><span class="sect1"><a href="#s1">1. Краткая информация</a></span></dt><dd><dl><dt><span class="sect2"><a href="#idm45848372085152">1.1. Последнее место работы</a></span></dt></dl></dd><dt><span class="sect1"><a href="#s3">2. Обо мне</a></span></dt><dd><dl><dt><span class="sect2"><a href="#idm45848372074240">2.1. Немного деталей</a></span></dt></dl></dd></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="s1"></a>1. Краткая информация</h2></div></div></div><p>
        </p><div class="informaltable"><table width="100%" cellpadding="0pt" cellspacing="0pt" frame="void"><col width="25%" align="left"><col width="75%" align="left"><tr>
            <td>
              <a class="ulink" href="images/mid-cv.jpg" target="_top"><span class="inlinemediaobject"><img src="images/mid-cv.jpg" width="106" height="106"></span></a>
            </td>
            <td>
              <table border="0" summary="Simple list" class="simplelist"><tr><td>Дата и место рождения: 18 августа 1978 г., город Кемерово</td></tr><tr><td>Образование: ТУСУР (г. Томск), 2006 г., специальность АСОиУ</td></tr><tr><td>Телефон: +7 905 901 6065</td></tr><tr><td>E-mail: <a class="ulink" href="mailto:midenok@bk.ru" target="_top">midenok@bk.ru</a></td></tr><tr><td>Skype: midenok</td></tr></table>
            </td>
          </tr><tr>
            <td>
              <p>CV:</p>
              <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="ulink" href="http://midenok.github.io" target="_top">HTML</a></p></li><li class="listitem"><p>
                    <a class="ulink" href="http://midenok.github.io/midenkov-cv-rus.pdf" target="_top">PDF</a></p></li></ul></div>
            </td>
            <td>
              <p>Резюме:</p>
              <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                  <a class="ulink" href="https://hh.ru/resume/24315b02ff020dba580039ed1f586d44436a41" target="_top">Ведущий
                    разработчик</a></p></li><li class="listitem"><p>
                  <a class="ulink" href="https://hh.ru/resume/f38b81c7ff0317e1e90039ed1f6559366c6744" target="_top">Senior
                    Developer</a></p></li></ul></div>
            </td>
          </tr></table></div><p>
      </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm45848372085152"></a>1.1. Последнее место работы</h3></div></div></div><p><a class="ulink" href="https://en.wikipedia.org/wiki/Phorm" target="_top">Phorm</a> (121 Media). Московский
          офис ООО "ФОРМ" (в прошлом ООО "Передовые интернет решения") насчитывал порядка 100
          человек и состоял из нескольких отделов: Server, Datacapture, UI, DB, QA, SA, HR. Компания
          специализируется на целевой рекламе. Её основное отличие от конкурентов в том, что она
          способна собирать целевой профиль и осуществлять поставку рекламы на стороне провайдера,
          что улучшало качество профиля и соотношение клик : покупка в сравнении с веб-сайтами.
          Разработкой этой технологии работы с трафиком на стороне провайдера занимался отдел
          Datacapture.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="s3"></a>2. Обо мне</h2></div></div></div><p>В компании "ФОРМ" я работал в отделе Dataсapture с 2007-го по 2015 гг., затем в начале
        2015-го был переведён в отдел Server, где я проработал несколько месяцев до увольнения. В
        отделе Datacapture я написал модули обработки запросов для Apache и Nginx, модуль
        восстановления пользователей по данным браузера, модуль защиты от фишинговых сайтов, новую
        версию стартующих скриптов, а также другие обновления в рамках соответствующих тикетов.
        Разработка велась в основном на C++, Perl, XSLT, Bash. Для внутрикластерного взаимодействия
        использовалась CORBA.</p><p>Также, я оптимизировал производительность процессов, исправлял утечки памяти и
        некорректные операции исполнения, работал с продакшн кластерами. Я хорошо ориентируюсь в
        большом объёме кода. Разбираюсь в устройстве серверных приложений, владею средствами POSIX,
        в том числе POSIX Threads. Работал с библиотеками libev и zlib. Писал скрипты для Make,
        CMake и Automake.</p><p>Не лишне будет упомянуть, что мой предпочитаемый дистрибутив – Debian, которым я
        пользуюсь с 1999-го года. И в котором я работал как с debhelper, так и с CDBS, а также
        репозиториями reprepro.</p><p>Посмею также заметить, что работу я делаю качественно. Тщательно обдумываю свои решения,
        смотрю на задачу с различных сторон. Если попытаться коротко описать моё жизненное кредо, то
        я бы представил его двумя афоризмами: «стремиться к идеалу изо всех сил, зная, что он
        недостижим» и «малыми шагами совершаются большие дела».</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm45848372074240"></a>2.1. Немного деталей</h3></div></div></div><p>Расскажу поподробнее про модули, которые я написал. Модуль обработки запросов
          взаимодействует с браузером пользователя. Когда пользователь впервые обращается в домен
          компании, запрос приходит в этот модуль. Далее производится ряд операций – проверка на
          возможность установить куки, попытка восстановить куки из локальных хранилищ и наконец
          присвоение уникального идентификатора. Когда пользователь обращается за рекламой, то
          модуль может выступать в качестве прокси, если того требует инфраструктура и передать
          запрос в рекламный сервер.</p><p>Модуль восстановления пользователей по данным браузера. Если пользователь удалил свой
          идентификатор и восстановить его из локального хранилища не получилось, то существовала
          возможность восстановить его по данным браузера, т.к. все эти данные сохранялись в базе
          наряду с уникальным идентификатором и IP-адресом. При этом во время поиска по базе
          использовался алгоритм нечёткого сравнения (расстояние Левенштейна) на случай, если данные
          браузера немного изменились – например, обновилась версия или были установлены новые
          шрифты.</p><p>И наконец модуль защиты от фишинговых сайтов. В этом модуле производилась проверка
        оригинального URL пользователя в списке фишинговых URL. Если обнаруживалось соответствие, то
        пользователю вместо запрашиваемой страницы открывалась страница с предупреждением. Список
        хранился в shared memory и был доступен всем процессам и потокам демона. При этом он
        периодически инкрементально обновлялся по HTTP протоколу.</p></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="ch2"></a>Глава 2. Примеры работ</h1></div></div></div><div class="toc"><p><b>Содержание</b></p><dl class="toc"><dt><span class="sect1"><a href="#art2-1">1. Evoxy: libev-based HTTP proxy</a></span></dt><dt><span class="sect1"><a href="#math_calc">2. Math calculator</a></span></dt><dt><span class="sect1"><a href="#idm45848366496368">3. C++ MySQL wrapper</a></span></dt><dt><span class="sect1"><a href="#idm45848366485680">4. Набросок обработки Bid-запросов в AdServer</a></span></dt><dt><span class="sect1"><a href="#idm45848366462784">5. Bush: build shell</a></span></dt><dt><span class="sect1"><a href="#idm45848366452336">6. System troubleshooting report</a></span></dt><dt><span class="sect1"><a href="#idm45848366443824">7. Browser list parser</a></span></dt><dt><span class="sect1"><a href="#idm45848366435552">8. Другое</a></span></dt><dd><dl><dt><span class="sect2"><a href="#idm45848366434912">8.1. Symlinked install</a></span></dt><dt><span class="sect2"><a href="#idm45848366429088">8.2. Конвертер ошибок GCC в MSVC</a></span></dt><dt><span class="sect2"><a href="#idm45848366423920">8.3. Реверсинг кода игры Atomic Bomberman</a></span></dt></dl></dd></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="art2-1"></a>1. Evoxy: libev-based HTTP proxy</h2></div></div></div><pre class="synopsis">Год: 2016
Инструментарий: С++11, POSIX, libev</pre><p><span class="emphasis"><em>Исходный код:</em></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="emphasis"><em><a class="ulink" href="https://github.com/midenok/evoxy" target="_top">Репозиторий</a></em></span></li><li class="listitem"><span class="emphasis"><em><a class="ulink" href="https://github.com/midenok/evoxy/releases/latest" target="_top">Aрхивы</a></em></span></li></ul></div><p>Текущий статус проекта: в HTTP-proxy реализован минимальный функционал, необходимый для
        успешной работы: Keep-Alive соединения, обработка Transfer-Encoding: chunked. В будущем
        предусматривается такая функциональность, как: пайплайнинг запросов (<a class="ulink" href="https://github.com/midenok/evoxy/issues/3" target="_top">Issue #3</a>), асинхронное разрешение
        доменных имён (<a class="ulink" href="https://github.com/midenok/evoxy/issues/4" target="_top">Issue #4</a>),
        HTTPS. </p><p>Программа написана на C++ с использованием элементов 11-го стандарта. Архитектура демона
        основана на неблокирующихся сокетах и состоит из пула потоков, в каждом из которых запущен
        цикл событий, обрабатывающий все принятые в данном потоке соединения. Дизайн Evoxy
        предполагает, что по возможности все ресурсы, необходимые потоку должны быть локальны в этом
        потоке, а значит свободны от многопоточной конкурентности. На данный момент программа не
        использует ни одного мьютекса (или какого-либо другого средства синхронизации
        потоков).</p><p>Демон работает на преаллоцированной памяти. На стадии инициализации каждому потоку из
        кучи выделяются все необходимые пулы памяти. Пулы памяти демона работают с блоками
        фиксированного размера, т.е. заточены на аллокацию объектов одного определённого типа.
        Размер пула соответствует установленным в настройках лимитам программы. На данный момент
        используется всего 3 различных пула: 1 для создания соединения и 2 для кэша доменных
        имён.</p><p>Главный недостаток текущей версии в том, что обработчики соединений Frontend и Backend
        жёстко связаны друг с другом в соотношении 1:1. Такая схема неэффективна для Keep-Alive
        соединений, поскольку запрос к каждому новому хосту на стороне Frontend-а обязывает Backend
        разрывать текущее соединение и устанавливать новое. Будущая версия программы должна иметь
        пул соединений Backend-ов, которым может пользоваться Frontend (см. <a class="ulink" href="https://github.com/midenok/evoxy/issues/1" target="_top">Issue #1</a>).</p><p>См. также: <a class="ulink" href="https://github.com/midenok/server-demo/blob/master/README.md" target="_top">описание server-demo</a>.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="math_calc"></a>2. Math calculator</h2></div></div></div><pre class="synopsis">Год: 2016
Инструментарий: С++11</pre><p><span class="emphasis"><em>Исходный код:</em></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="emphasis"><em><a class="ulink" href="https://github.com/midenok/calculator" target="_top">Репозиторий</a></em></span></li><li class="listitem"><span class="emphasis"><em><a class="ulink" href="https://github.com/midenok/calculator/releases" target="_top">Aрхивы</a></em></span></li></ul></div><p>Калькулятор вычисляет математические выражения с учётом приоритета операций и скобок. В
        выражениях могут присутствовать унарные математические функции (см. <a class="ulink" href="http://www.cplusplus.com/reference/cmath/" target="_top">math.h</a>). Вычисление производится
        двумя стадиями: построение бинарного синтаксического дерева (<code class="code">Calc::parse()</code>) и
        исполнение синтаксического дерева (<code class="code">Calc::calculate()</code>). Программа не использует
        рекурсивные вызовы.</p><p>Правила синтаксического дерева:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>в корне всегда число, исполнение начинается с корня;</p></li><li class="listitem"><p>каждый левый потомок: операция (оператор или функция);</p></li><li class="listitem"><p>каждый правый потомок: число;</p></li><li class="listitem"><p>оператор исполняется над двумя операндами: предок и правый потомок;</p></li><li class="listitem"><p>функция исполняется над одним операндом: предок;</p></li><li class="listitem"><p>если у второго операнда (правый потомок) есть левый потомок (операция), то новая
              операция имеет приоритет над текущей.</p></li></ol></div><p>Таким образом, вычисление начинается с корня и продолжается по левой ветви до первого
        ветвления (левый потомок у операнда). Затем, состояние сохраняется в стек и вычисление
        начинается в новой ветви (от операнда). Когда ветвь заканчивается, состояние
        восстанавливается из стека и продолжается вычисление старой ветви. Обход продолжается до тех
        пор, пока не закончится ветвь при пустом стеке.</p><div class="figure"><a name="idm45848366499872"></a><p class="title"><b>Рисунок 2.1. Примеры синтаксических деревьев Math calculator</b></p><div class="figure-contents"><a class="ulink" href="images/calc_syn_tree.png" target="_top"><span class="inlinemediaobject"><img src="images/calc_syn_tree.png" width="581" alt="Примеры синтаксических деревьев Math calculator"></span></a></div></div><br class="figure-break"></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm45848366496368"></a>3. C++ MySQL wrapper</h2></div></div></div><pre class="synopsis">Год: 2013
Инструментарий: C++, MySQL Connector/C</pre><p><span class="emphasis"><em>Исходный код:</em></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="emphasis"><em><a class="ulink" href="https://github.com/midenok/stuff-dbms/tree/master/mysql-wrapper" target="_top">Репозиторий</a></em></span></li><li class="listitem"><span class="emphasis"><em><a class="ulink" href="https://github.com/midenok/stuff-dbms/releases/latest" target="_top">Архивы</a></em></span></li></ul></div><p>С++ обёртка вокруг MySQL Connector/C. Основное её преимущество перед стандартным C++
        коннектором -- многопоточный пул коннектов. Обёртка имеет дружественный интерфейс: не нужно
        вручную создавать и разрушать объекты; текст SQL кода инстанцируется выводом в
          <code class="varname">stringstream</code>.</p><div class="example"><a name="idm45848366490336"></a><p class="title"><b>Пример 2.1. Схема использования MySQL wrapper</b></p><div class="example-contents"><pre class="programlisting">Conf c;
c.host = "localhost";
c.user = "user";
c.passwd = "password";
c.db = "database";

Connection::Pool pool(pool_size);

try {
    pool.connect(c);
    Query q(pool);
    q &lt;&lt; "-- any SQL code (multiple statements allowed)\n";

    q.execute(); // or q.execute_only() if no data returned
    
    Row row;
    while (row = q.fetch_row()) {
        // Get data from row.
        //   integers are accessed with (POS_INDEX);
        //   strings are accessed with [POS_INDEX],
        // like here:
        int integer_value = row(0);
        std::string string_value = row[1];
   }
} catch (Database::Error &amp;ex) {
    std::cerr &lt;&lt; ex.what();
} catch (Database::Exception &amp;ex) {
    std::cerr &lt;&lt; ex.what();
}</pre><p>См. также рабочий пример использования: <a class="ulink" href="https://github.com/midenok/stuff-dbms/blob/master/mysql-wrapper/example.cpp" target="_top">example.cpp</a>.</p></div></div><br class="example-break"></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm45848366485680"></a>4. Набросок обработки Bid-запросов в AdServer</h2></div></div></div><pre class="synopsis">Год: 2015
Инструментарий: UML class diagram
Copyright: ©<a class="ulink" href="https://en.wikipedia.org/wiki/Phorm" target="_top">Phorm Corp</a></pre><p>Диаграмма основана на UML диаграмме классов и представляет собой смесь поведенческой и
        структурной диаграммы. Диаграмма позволила быстро понять соотношение и поведение объектов в
        контексте конкретной задачи. Ни одна из существующих поведенческих видов диаграмм UML для
        этого не подошла.</p><div class="figure"><a name="idm45848366482320"></a><p class="title"><b>Рисунок 2.2. Схема среза по обработке Bid-запросов в AdServer</b></p><div class="figure-contents"><a class="ulink" href="images/bidding_diagram.png" target="_top"><span class="inlinemediaobject"><img src="images/bidding_diagram.png" width="581" alt="Схема среза по обработке Bid-запросов в AdServer"></span></a></div></div><br class="figure-break"><p>Поясню устройство диаграммы:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>жёлтым цветом обозначены классы, фиолетовым -- методы;</p></li><li class="listitem"><p>"ассоциацией" обозначены вызовы методов;</p></li><li class="listitem"><p>"реализацией" обозначена принадлежность методов классам;</p></li><li class="listitem"><p>"композицией" показано эксклюзивное владение объектом;</p></li><li class="listitem"><p>"агрегацией" показано временное владение объектом либо хранение указателя на
            объект.</p></li></ul></div><p>
      </p><p>Разберём содержимое диаграммы. Класс <code class="code">Frontend</code> в вызове
          <code class="code">handle_request()</code> создаёт <code class="code">BaiduRequestTask</code>, который складывается
        в очередь <code class="code">TaskRunner</code>. <code class="code">TaskRunner</code> вызывает <code class="code">execute()</code> у
          <code class="code">BaiduRequestTask</code>, который в свою очередь вызывает
          <code class="code">process_baidu_request()</code> у <code class="code">Frontend</code>. Каким образом -- показано в
        верхнем правом углу: <code class="code">BaiduRequestTask</code> унаследован от <code class="code">RequestTask</code>,
        а тот в свою очередь содержит указатель на объект <code class="code">Frontend</code>:
          <code class="code">bid_frontend_</code>. Итак, <code class="code">process_baidu_request()</code> вызывает
          <code class="code">fill_by_baidu_request()</code> у <code class="code">RequestInfoFiller</code>. На этом контекст
        схемы заканчивается.</p><p>Подчеркну, что диаграмма описывает лишь очень небольшой срез, необходимый для решения
        конкретной задачи. В огромном объёме кода подобные компактные наброски на мой взгляд
        жизненно важны, т.к. они позволяют быстро вспоминать контекст задачи. Возможно, в диаграмме
        была допущена неточность: <code class="code">RequestTask</code> вряд ли владеет объектом
          <code class="code">Frontend</code>, отношение композиции должно быть заменено отношением
        агрегации.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm45848366462784"></a>5. Bush: build shell</h2></div></div></div><pre class="synopsis">Год: 2007-2015
Инструментарий: Bash</pre><p><span class="emphasis"><em>Исходный код:</em></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="emphasis"><em><a class="ulink" href="https://github.com/midenok/stuff-linux/blob/master/scripts/devel/bush" target="_top">bush</a></em></span></li></ul></div><p>Скрипт для автоматизации workflow по разработке задач. Запускает сессию Bash с
          окружением, настроенным под контекст конкретного тикета задачи. В окружение добавляются
          CLI-команды, которые значительно сокращают рутинные действия по подготовке задачи к
          работе. Например, при помощи только одной команды 'new' происходят следующие действия:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">в SVN создаётся бранч задачи, а на диске его рабочая копия;</li><li class="listitem">при необходимости чекаутятся и компилируются все необходимые
                библиотеки;</li><li class="listitem">компилируется сама задача (т.е. основное приложение из рабочей
                копии);</li><li class="listitem">инстанцируются файлы конфигурации и запускается приложение задачи.</li></ul></div><p>Каждая задача имеет свою директорию с номером и кратким названием, внутри которой
        хранятся все файлы задачи: рабочие копии, деревья компиляции, деревья инсталяции,
        конфигурация, скрипты, заметки и пр. В данный момент скрипт заточен под задачи конкретной
        компании, но может быть переделан под любой workflow.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm45848366452336"></a>6. System troubleshooting report</h2></div></div></div><pre class="synopsis">Год: 2010
Инструментарий: Perl, Linux system utilities</pre><p><span class="emphasis"><em>Исходный код:</em></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="emphasis"><em><a class="ulink" href="https://github.com/midenok/stuff-linux/blob/master/scripts/system/trouble-report" target="_top">trouble-report</a></em></span></li></ul></div><p>Скрипт собирает системные данные хоста для случаев критических неисправностей:
        информацию по системным ресурсам, системные логи и логи программы, информацию по коркам,
        конфигурацию, текущее поведение системы и пр. Скрипт настраивается модификацией
          <code class="code">@REGISTRY</code>:</p><div class="example"><a name="idm45848366447360"></a><p class="title"><b>Пример 2.2. Настройка работы trouble-report</b></p><div class="example-contents"><pre class="programlisting">my @REGISTRY = (
    {
        title =&gt; 'Uptime',
        command =&gt; 'uptime',
        filename =&gt; 'common.txt'
    },
    {
        title =&gt; 'Processes by user',
        command =&gt; 'ps uax',
        filename =&gt; 'ps.txt'
    },
    {
        title =&gt; 'Process tree',
        command =&gt; 'pstree -p',
        filename =&gt; 'pstree.txt'
    },
    {
        title =&gt; 'Last log files',
        command =&gt; "ls -1rt $O{program_root}/var/log/*|tail|xargs tail",
        filename =&gt; 'logs.txt'
    },
    # ... and so on ...
);</pre></div></div><p><br class="example-break"></p><p>Скрипт имеет процедуру бинарного поиска для быстрого поиска записи лога по timestamp:
          <code class="code">binary_find</code>.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm45848366443824"></a>7. Browser list parser</h2></div></div></div><pre class="synopsis">Год: 2013
Инструментарий: Perl</pre><p><span class="emphasis"><em>Исходный код:</em></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="emphasis"><em><a class="ulink" href="https://github.com/midenok/stuff-linux/blob/master/scripts/devel/browserlist-parser/browserlist-parser.pl" target="_top">browserlist-parser.pl</a></em></span></li></ul></div><p>Скрипт подготавливает данные, необходимые для парсинга строчек User-Agent. Он
          преобразует списки сайта <a class="ulink" href="http://www.useragentstring.com/pages/Browserlist/" target="_top">useragentstring.com</a> в упорядоченные списки токенов, по которым происходит
          идентификация браузера и операционной системы. Основная сложность заключается в том, что
          строка User-Agent может содержать несколько токенов от разных браузеров. Так, например
          строка для AOL
          9.7:</p><pre class="programlisting">Mozilla/4.0 (compatible; MSIE 8.0; AOL 9.5; AOLBuild 4337.43; Windows NT 6.0;
Trident/4.0; SLCC1; .NET CLR 2.0.50727; Media Center PC 5.0; .NET CLR 3.5.21022;
.NET CLR 3.5.30729; .NET CLR 3.0.30618)</pre><p>содержит токен MSIE, поэтому проверка на AOL должна проходить раньше, чем на MSIE.
          Скрипт анализирует такие появления токенов от других браузеров и определяет порядок в
          котором токены должны проверяться, чтобы избежать неверного определения. См. также: <a class="ulink" href="https://github.com/midenok/stuff-linux/blob/master/scripts/devel/browserlist-parser/browserlist-parser.md" target="_top">описание использования скрипта</a>.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm45848366435552"></a>8. Другое</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm45848366434912"></a>8.1. Symlinked install</h3></div></div></div><pre class="synopsis">Год: 2007-2014
Инструментарий: CMake, Bash, Perl</pre><p><span class="emphasis"><em>Исходный код:</em></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="emphasis"><em><a class="ulink" href="https://github.com/midenok/ln-install" target="_top">ln-install</a></em></span></li></ul></div><p>Утилита позволяет избежать шага <code class="code">make install</code> в цикле
          "редактирование-компиляция-запуск", что значительно облегчает работу с тяжеловесным кодом.
          Для этого <code class="code">make install</code> вместо копирования файлов создаст символические ссылки
          на дерево компиляции. Утилита работает с деревьями Autoconf, CMake и MakeMaker.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm45848366429088"></a>8.2. Конвертер ошибок GCC в MSVC</h3></div></div></div><pre class="synopsis">Год: 2016
Инструментарий: Perl</pre><p><span class="emphasis"><em>Исходный код:</em></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="emphasis"><em><a class="ulink" href="https://github.com/midenok/scripts/blob/master/scripts/devel/gcc2msvc.pl" target="_top">gcc2msvc.pl</a></em></span></li></ul></div><p>Обёртка для GCC позволяет использовать этот компилятор в Visual Studio с корректным
          выводом ошибок в окно Error List. Данный пример демонстрирует работу <code class="code">Select</code> в
          связке с <code class="code">Open3</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm45848366423920"></a>8.3. Реверсинг кода игры Atomic Bomberman</h3></div></div></div><pre class="synopsis">Год: 2013
Инструментарий: Ida Pro 6.1; Syser 1.99</pre><p>В ходе анализа кода DirectX игры <a class="ulink" href="https://en.wikipedia.org/wiki/Atomic_Bomberman" target="_top">Atomic Bomberman</a> были
          найдены функции, отвечающие за работу основного меню ($main_menu_loop), запуска новой игры
          ($new_game_options, $new_game_players, $new_game), работу настроек игры ($options_menu,
          $load_options), а также основные игровые переменные, такие как $newgame_goal_amount,
          $goal_type, $newgame_theme. Все символы с '$' были разработаны мной в процессе реверсинга,
          полный их список (73) можно посмотреть в <a class="ulink" href="http://midenok.github.io/files/bm95_discovered.map" target="_top">bm95_discovered.map</a>.
          Заметки по анализу находятся в <a class="ulink" href="http://midenok.github.io/files/bomberman.txt" target="_top">bomberman.txt</a>.</p><p>
          <a class="ulink" href="images/atomic-bomberman.jpg" target="_top"><span class="inlinemediaobject"><img src="images/atomic-bomberman.jpg" align="middle" width="213"></span></a>
        </p><div class="figure"><a name="idm45848366415840"></a><p class="title"><b>Рисунок 2.3. Анализ Atomic Bomberman (cкриншот IDA Pro) </b></p><div class="figure-contents"><a class="ulink" href="images/BM95-IDA.png" target="_top"><span class="inlinemediaobject"><img src="images/BM95-IDA.png" width="581" alt="Анализ Atomic Bomberman (cкриншот IDA Pro)"></span></a></div></div><br class="figure-break"></div></div></div></div></body></html>
